<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<style>
		body, html {
			font-family: monospace;
		}
		#code {
			background-color: #f1f1f1;
			border-radius: 5px;
			padding: 5px;
			padding-left: 15px;
		}
	</style>

    <title>Hello, world!</title>
</head>
	<body>

		<div id="code">

		</div>


		<script type="text/javascript">
		function output(input) {
		    document.getElementById("code").appendChild(document.createElement('p')).innerHTML = input;
		}

		function syntaxHighlight(json) {
    		if (typeof json != 'string') {
         		json = JSON.stringify(json, undefined, 2);
    		}
    		json = json.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
    		return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, function (match) {
	        	var cls = 'number';
	        	if (/^"/.test(match)) {
	            	if (/:$/.test(match)) {
	                	cls = 'key';
	            	} else {
	                	cls = 'string';
	            	}
	        	} else if (/true|false/.test(match)) {
	            	cls = 'boolean';
	        	} else if (/null/.test(match)) {
	            	cls = 'null';
	        	}
	        	return '<span class="' + cls + '">' + match + '</span>';
    		});
		}

			const username = "mcabrol"
			const xhr = new XMLHttpRequest();
			const url = `https://api.github.com/users/${username}/repos`;
			xhr.open('GET', url, true);
			xhr.onload = function() {
				data = JSON.parse(this.response);
				var str = JSON.stringify(data, undefined, 4);
				output(syntaxHighlight(str));
			}
			xhr.send();


		</script>
	</body>
</html>
